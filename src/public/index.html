<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="utf-8" />
  <link rel="icon" href="%PUBLIC_URL%/favicon.ico" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <meta name="theme-color" content="#000000" />
  <meta name="description" content="Multi-Tenant Admin Interface - Sistema de administraci√≥n para chatbots multi-agente" />
  
  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website" />
  <meta property="og:url" content="%PUBLIC_URL%" />
  <meta property="og:title" content="Multi-Tenant Admin - Sistema de Gesti√≥n" />
  <meta property="og:description" content="Interfaz de administraci√≥n para sistema de chatbots multi-tenant con agentes especializados" />
  <meta property="og:image" content="%PUBLIC_URL%/og-image.jpg" />

  <!-- Twitter -->
  <meta property="twitter:card" content="summary_large_image" />
  <meta property="twitter:url" content="%PUBLIC_URL%" />
  <meta property="twitter:title" content="Multi-Tenant Admin - Sistema de Gesti√≥n" />
  <meta property="twitter:description" content="Interfaz de administraci√≥n para sistema de chatbots multi-tenant con agentes especializados" />
  <meta property="twitter:image" content="%PUBLIC_URL%/og-image.jpg" />

  <!-- PWA -->
  <link rel="apple-touch-icon" href="%PUBLIC_URL%/logo192.png" />
  <link rel="manifest" href="%PUBLIC_URL%/manifest.json" />

  <!-- Preload cr√≠tico -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700&display=swap" rel="stylesheet" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>
  <script>
    tailwind.config = {
      theme: {
        extend: {
          fontFamily: {
            sans: ['Inter', 'system-ui', 'sans-serif'],
          },
          colors: {
            primary: {
              50: '#eff6ff',
              100: '#dbeafe',
              200: '#bfdbfe',
              300: '#93c5fd',
              400: '#60a5fa',
              500: '#3b82f6',
              600: '#2563eb',
              700: '#1d4ed8',
              800: '#1e40af',
              900: '#1e3a8a',
            }
          }
        }
      }
    }
  </script>

  <title>Multi-Tenant Admin - Sistema de Gesti√≥n</title>

  <style>
    /* Loading spinner */
    .loading-spinner {
      border: 3px solid #f3f4f6;
      border-top: 3px solid #3b82f6;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      animation: spin 1s linear infinite;
    }
    
    @keyframes spin {
      0% { transform: rotate(0deg); }
      100% { transform: rotate(360deg); }
    }

    /* Error fallback styles */
    .error-fallback {
      min-height: 100vh;
      background: linear-gradient(135deg, #ef4444, #dc2626);
      display: flex;
      align-items: center;
      justify-content: center;
      color: white;
      font-family: system-ui, -apple-system, sans-serif;
    }
  </style>
</head>
<body>
  <noscript>
    <div class="error-fallback">
      <div style="text-align: center; padding: 2rem;">
        <h1 style="font-size: 2rem; margin-bottom: 1rem;">JavaScript Requerido</h1>
        <p style="font-size: 1.1rem; opacity: 0.9;">
          Esta aplicaci√≥n requiere JavaScript para funcionar correctamente.
          <br />
          Por favor habilita JavaScript en tu navegador.
        </p>
      </div>
    </div>
  </noscript>

  <!-- Loading inicial -->
  <div id="loading-screen" style="position: fixed; top: 0; left: 0; width: 100%; height: 100%; background: white; display: flex; align-items: center; justify-content: center; z-index: 9999;">
    <div style="text-align: center;">
      <div class="loading-spinner" style="margin: 0 auto 1rem;"></div>
      <p style="color: #6b7280; font-family: system-ui;">Cargando Multi-Tenant Admin...</p>
    </div>
  </div>

  <!-- React App Container -->
  <div id="root"></div>

  <!-- Fallback si React no carga -->
  <script>
    setTimeout(function() {
      const root = document.getElementById('root');
      if (!root.hasChildNodes()) {
        document.body.innerHTML = `
          <div class="error-fallback">
            <div style="text-align: center; padding: 2rem; max-width: 400px;">
              <h1 style="font-size: 2rem; margin-bottom: 1rem;">Error de Carga</h1>
              <p style="font-size: 1rem; margin-bottom: 1.5rem; opacity: 0.9;">
                No se pudo cargar la aplicaci√≥n. Esto puede deberse a:
              </p>
              <ul style="text-align: left; margin-bottom: 1.5rem; opacity: 0.9;">
                <li>‚Ä¢ Problemas de conectividad</li>
                <li>‚Ä¢ Error en el build de React</li>
                <li>‚Ä¢ Conflictos de JavaScript</li>
              </ul>
              <button onclick="window.location.reload()" style="background: white; color: #dc2626; padding: 0.75rem 1.5rem; border: none; border-radius: 0.5rem; font-weight: bold; cursor: pointer;">
                üîÑ Recargar P√°gina
              </button>
            </div>
          </div>
        `;
      }
    }, 5000);

    // Ocultar loading cuando React se monte
    window.addEventListener('load', function() {
      const loadingScreen = document.getElementById('loading-screen');
      if (loadingScreen) {
        setTimeout(() => {
          loadingScreen.style.opacity = '0';
          setTimeout(() => loadingScreen.remove(), 300);
        }, 500);
      }
    });
  </script>

  <!-- Service Worker Registration -->
  <script>
    if ('serviceWorker' in navigator && window.location.hostname !== 'localhost') {
      window.addEventListener('load', function() {
        navigator.serviceWorker.register('%PUBLIC_URL%/sw.js')
          .then(function(registration) {
            console.log('‚úÖ SW registration successful:', registration.scope);
          })
          .catch(function(registrationError) {
            console.log('‚ùå SW registration failed:', registrationError);
          });
      });
    }
  </script>
</body>
</html>
